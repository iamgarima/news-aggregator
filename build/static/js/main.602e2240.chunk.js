(this["webpackJsonpnews-aggregator"]=this["webpackJsonpnews-aggregator"]||[]).push([[0],{11:function(e,a,t){e.exports={wrapper:"weather-card_wrapper__3mAzB",place:"weather-card_place__1Bp0H",date:"weather-card_date__3rtvN",forecastWrapper:"weather-card_forecastWrapper__1d_Ww",status:"weather-card_status__3eZis",temp:"weather-card_temp__3qcb2",itemWrapper:"weather-card_itemWrapper__3dKwn",itemDate:"weather-card_itemDate__1dP0T",itemTemp:"weather-card_itemTemp__2IFO1"}},14:function(e,a,t){e.exports={headerWrapper:"header_headerWrapper__623Fa",searchWrapper:"header_searchWrapper__1BPMT",inputBox:"header_inputBox__2juyv",searchBtn:"header_searchBtn__1b05a",selectWrapper:"header_selectWrapper__2ODM7",homeIconWrapper:"header_homeIconWrapper__10L12",weatherIcon:"header_weatherIcon__3lu5t"}},15:function(e,a,t){e.exports={wrapper:"story-card_wrapper__1OMyg",left:"story-card_left__2bIG3",center:"story-card_center__1do5Z",right:"story-card_right__2TNom",sourceWrapper:"story-card_sourceWrapper__3OS7b",title:"story-card_title__3klm3",description:"story-card_description__mvDBL",srcName:"story-card_srcName__3gX58",publishTime:"story-card_publishTime__1_8vu",separator:"story-card_separator__1ZRe_"}},16:function(e){e.exports=JSON.parse('{"openweather_api_key":"a08681489d24d7126258119cae772a1a","gnews_api_key":"abfd954344cde80a5f2b93f28f980a82"}')},21:function(e,a,t){e.exports={topicsWrapper:"topics-bar_topicsWrapper__KQAO4",topicBtn:"topics-bar_topicBtn__38eTz",active:"topics-bar_active__3CK6z"}},27:function(e,a,t){e.exports={wrapper:"rich-layout_wrapper__2MCW-",slotWrapper:"rich-layout_slotWrapper__1Xdvl"}},32:function(e,a,t){e.exports=t.p+"static/media/weather.ba215a44.svg"},35:function(e,a,t){e.exports={separator:"separator_separator__2bUZT"}},36:function(e,a,t){e.exports={wrapper:"list-layout_wrapper__3lkeZ"}},38:function(e,a,t){e.exports=t(52)},51:function(e,a,t){},52:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(13),c=t.n(l),o=t(3),s=t(17),u=t(28),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GEOLOCATION.UPDATE_STATUS":return Object(u.a)(Object(u.a)({},e),a.payload);default:return e}},p={code:"en",name:"English"},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_LANGUAGE":return a.payload;default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top-news",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_TOPIC":return a.payload;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_PAGE_TYPE":return a.payload;default:return e}},d=Object(s.b)({geolocation:i,language:v,topic:m,pageType:b}),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s.c)(d,e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},_=t(19),f=t(2),g=t(4),w=t(37),E=[{value:"af",label:"Afrikaans"},{value:"sq",label:"Albanian"},{value:"sm",label:"Amharic"},{value:"az",label:"Azerbaijani"},{value:"eu",label:"Basque"},{value:"be",label:"Belarusian"},{value:"bn",label:"Bengali"},{value:"bh",label:"Bihari"},{value:"bs",label:"Bosnian"},{value:"bg",label:"Bulgarian"},{value:"ca",label:"Catalan"},{value:"hr",label:"Croatian"},{value:"cs",label:"Czech"},{value:"da",label:"Danish"},{value:"nl",label:"Dutch"},{value:"en",label:"English"},{value:"eo",label:"Esperanto"},{value:"et",label:"Estonian"},{value:"fo",label:"Faroese"},{value:"fi",label:"Finnish"},{value:"fr",label:"French"},{value:"fy",label:"Frisian"},{value:"gl",label:"Galician"},{value:"ka",label:"Georgian"},{value:"de",label:"German"},{value:"el",label:"Greek"},{value:"iw",label:"Hebrew"},{value:"hi",label:"Hindi"},{value:"hu",label:"Hungarian"},{value:"is",label:"Icelandic"},{value:"id",label:"Indonesian"},{value:"ia",label:"Interlingua"},{value:"ga",label:"Irish"},{value:"it",label:"Italian"},{value:"ja",label:"Japanese"},{value:"jw",label:"Javanese"},{value:"kn",label:"Kannada"},{value:"ko",label:"Korean"},{value:"la",label:"Latin"},{value:"lv",label:"Latvian"},{value:"lt",label:"Lithuanian"},{value:"mk",label:"Macedonian"},{value:"ms",label:"Malay"},{value:"ml",label:"Malayalam"},{value:"mt",label:"Maltese"},{value:"mr",label:"Marathi"},{value:"ne",label:"Nepali"},{value:"no",label:"Norwegian"},{value:"nn",label:"Norwegian (Nynorsk)"},{value:"oc",label:"Occitan"},{value:"fa",label:"Persian"},{value:"pl",label:"Polish"},{value:"pt-BR",label:"Portuguese (Brazil)"},{value:"pt-PT",label:"Portuguese (Portugal)"},{value:"pa",label:"Punjabi"},{value:"ro",label:"Romanian"},{value:"ru",label:"Russian"},{value:"gd",label:"Scots Gaelic"},{value:"sr",label:"Serbian"},{value:"si",label:"Sinhalese"},{value:"sk",label:"Slovak"},{value:"sl",label:"Slovenian"},{value:"es",label:"Spanish"},{value:"su",label:"Sudanese"},{value:"sw",label:"Swahili"},{value:"sv",label:"Swedish"},{value:"tl",label:"Tagalog"},{value:"ta",label:"Tamil"},{value:"te",label:"Telugu"},{value:"th",label:"Thai"},{value:"ti",label:"Tigrinya"},{value:"tr",label:"Turkish"},{value:"uk",label:"Ukrainian"},{value:"ur",label:"Urdu"},{value:"uz",label:"Uzbek"},{value:"vi",label:"Vietnamese"},{value:"cy",label:"Welsh"},{value:"xh",label:"Xhosa"},{value:"zu",label:"Zulu"}],y=t(14),O=t.n(y),j=t(32),N=t.n(j),T=function(){var e=Object(r.useState)(""),a=Object(g.a)(e,2),t=a[0],l=a[1],c=Object(r.useState)({value:"en",label:"English"}),s=Object(g.a)(c,2),u=s[0],i=s[1],p=Object(o.c)((function(e){return e.pageType})),v=Object(o.c)((function(e){return e})).geolocation,m=void 0===v?{}:v,b=Object(o.b)();return n.a.createElement("div",{className:O.a.headerWrapper},"search-page"===p&&n.a.createElement("div",{className:O.a.homeIconWrapper},n.a.createElement(_.b,{to:"/",className:O.a.homeIcon},n.a.createElement("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"32px",height:"32px"},n.a.createElement("path",{d:"M 12 2.0996094 L 1 12 L 4 12 L 4 21 L 11 21 L 11 15 L 13 15 L 13 21 L 20 21 L 20 12 L 23 12 L 12 2.0996094 z M 12 4.7910156 L 18 10.191406 L 18 11 L 18 19 L 15 19 L 15 13 L 9 13 L 9 19 L 6 19 L 6 10.191406 L 12 4.7910156 z"})))),n.a.createElement("div",{className:O.a.searchWrapper},n.a.createElement("input",{className:O.a.inputBox,type:"text",onChange:function(e){return l(e.target.value)}}),n.a.createElement(_.b,{to:"/search?query=".concat(t),className:O.a.searchBtn},"Search")),n.a.createElement("div",{className:O.a.selectWrapper},n.a.createElement(w.a,{value:u,onChange:function(e){var a=e.value,t=e.label;i(e),b({type:"UPDATE_LANGUAGE",payload:{code:a,name:t}})},options:E,isSearchable:!0})),"home-page"===p&&"error"===m.status&&n.a.createElement("img",{src:N.a,alt:"Weather Icon",title:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"error"===e.status&&0===e.error.code?"Sorry! Can't see weather details? ".concat(e.error.message):"To see weather details, please make sure your geolocation is enabled and then refresh the page."}(),className:O.a.weatherIcon}))},k=t(5),S=t.n(k),x=t(12),L=t(16),W=function(){var e=Object(x.a)(S.a.mark((function e(a){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(a);case 3:return e.next=5,e.sent.json();case 5:if(!(t=e.sent).errors){e.next=8;break}throw new Error(t.errors);case 8:return e.abrupt("return",t);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(x.a)(S.a.mark((function e(a,t){var r,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.openweathermap.org/data/2.5/weather?lat=".concat(a,"&lon=").concat(t,"&units=metric&appid=").concat(L.openweather_api_key),e.next=3,W(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),D=function(){var e=Object(x.a)(S.a.mark((function e(a,t){var r,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(a,"&lon=").concat(t,"&units=metric&appid=").concat(L.openweather_api_key),e.next=3,W(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),I=function(e){if(e%3===0)return e;var a=e%3===1?e-1:e+1;return 24===a?0:a},P=t(34),B=t.n(P),C=t(35),U=t.n(C),G=function(e){var a=e.type,t=void 0===a?"dot":a;return n.a.createElement("div",{id:"separator",className:U.a.separator},function(){switch(t){case"dot":return".";case"pipe":return"|";default:return"."}}())},M=t(15),z=t.n(M),R=function(e){var a=e.story,t=e.opts,r=void 0===t?{}:t,l=e.css,c=void 0===l?{}:l;if(!a)return null;var o=a.title,s=a.description,u=a.url,i=a.image,p=a.publishedAt,v=a.source,m=v.name,b=v.url,d=r.showImg,h=void 0!==d&&d,_=r.showDescription,f=void 0!==_&&_,g=c.align,w=void 0===g?"left":g;return n.a.createElement("div",{className:"".concat(z.a.wrapper," ").concat(z.a[w])},n.a.createElement("a",{href:u,target:"_blank",rel:"noopener noreferrer"},h&&n.a.createElement("img",{src:i,alt:o}),n.a.createElement("h3",{className:z.a.title},o),f&&n.a.createElement("div",{id:"story-description",className:z.a.description},s)),n.a.createElement("div",{className:z.a.sourceWrapper},n.a.createElement("a",{href:b,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("div",{className:z.a.srcName},m)),n.a.createElement("div",{className:z.a.separator},n.a.createElement(G,null)),n.a.createElement("div",{className:z.a.publishTime},n.a.createElement(B.a,{date:p}))))},F=t(36),X=t.n(F),q=function(e){var a=e.storiesList,t=void 0===a?[]:a;return n.a.createElement("div",{className:X.a.wrapper},t.map((function(e,a){return n.a.createElement(R,{story:e,key:"list-story-card-".concat(a)})})))},H=function(){return new URLSearchParams(Object(f.f)().search)},Z=function(e){return{type:"UPDATE_PAGE_TYPE",payload:e}},J=function(){var e=Object(r.useState)({}),a=Object(g.a)(e,2),t=a[0],l=a[1],c=Object(o.c)((function(e){return e.language||{}})).code,s=void 0===c?"en":c,u=Object(o.b)(),i=H().get("query");return u(Z("search-page")),Object(r.useEffect)((function(){(function(){var e=Object(x.a)(S.a.mark((function e(){var a,t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://gnews.io/api/v3/search?q=".concat(i,"&lang=").concat(s,"&token=").concat(L.gnews_api_key),e.next=3,W(a);case 3:(t=e.sent)&&l(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i,s]),n.a.createElement(q,{storiesList:t.articles})},K=t(27),V=t.n(K),Y=function(e){var a=e.storiesList,t=void 0===a?[]:a,r=e.SlotCardComponent,l=Object(o.c)((function(e){return e.geolocation})),c=l&&"error"!==l.status,s=c?t:t.slice(0,9);return n.a.createElement("div",{className:V.a.wrapper},c&&n.a.createElement("div",{className:V.a.slotWrapper},n.a.createElement(r,null)),s.map((function(e,a){return n.a.createElement(R,{story:e,key:"start-rich-story-card-".concat(a)})})))},Q=function(e){return{type:"GEOLOCATION.UPDATE_STATUS",payload:e}},$=t(11),ee=t.n($),ae=function(){var e=Object(r.useState)({}),a=Object(g.a)(e,2),t=a[0],l=a[1],c=Object(r.useState)(null),s=Object(g.a)(c,2),u=s[0],i=s[1],p=Object(r.useState)(null),v=Object(g.a)(p,2),m=v[0],b=v[1],d=Object(r.useState)(!1),h=Object(g.a)(d,2),_=h[0],f=h[1],w=Object(o.b)();Object(r.useEffect)((function(){var e=function(e){l({lat:e.coords.latitude,lon:e.coords.longitude}),w(Q({status:"success"}))},a=function(e){var a=e.code,t=e.message;console.log("ERROR(".concat(a,"): ").concat(t)),f(!1),w(Q({status:"error",error:{code:a,message:t}}))};"geolocation"in navigator?(f(!0),navigator.geolocation.getCurrentPosition(e,a)):(console.log("Geolocation is not supported by your browser"),f(!1),w(Q({status:"error",error:{code:0,message:"Geolocation is not supported by your browser"}})))}),[]),Object(r.useEffect)((function(){var e=function(){var e=Object(x.a)(S.a.mark((function e(a,t){var r,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(a,t);case 2:return r=e.sent,e.next=5,D(a,t);case 5:n=e.sent,i(r),b(n);case 8:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();t.lat&&t.lon&&e(t.lat,t.lon)}),[t]);var E=function(e,a){var t,r=Object(g.a)(e.weather,1)[0],l=r.main,c=r.icon,o=e.main,s=o.temp_min,u=o.temp_max,i=e.dt,p=e.dt_txt,v=a?"Today":function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return"";var a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=new Date(e).getDay();return a[t]}(p);return n.a.createElement("div",{className:ee.a.itemWrapper,key:i},n.a.createElement("p",{className:ee.a.itemDate},v),n.a.createElement("img",{src:(t=c,t?"http://openweathermap.org/img/wn/".concat(t,".png"):""),alt:l}),n.a.createElement("p",{className:ee.a.itemTemp},parseInt(u),"\xb0C"),n.a.createElement("p",{className:ee.a.itemTemp},parseInt(s),"\xb0C"))};if(!_||!Object.keys(t).length||!u||!m)return null;var y=Object(g.a)(u.weather,1)[0].main,O=u.main.temp,j=u.name,N=u.sys.country,T=u.dt,k=new Date(1e3*T),L=k.getHours(),W=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;return e.filter((function(e){return new Date(e.dt_txt).getHours()===I(a)}))}(m.list,L);return n.a.createElement("div",{className:ee.a.wrapper},n.a.createElement("div",null,n.a.createElement("div",{className:ee.a.place},"".concat(j,", ").concat(N)),n.a.createElement("p",{className:ee.a.date},k.toDateString()),n.a.createElement("div",{className:ee.a.status},y),n.a.createElement("div",{className:ee.a.temp},O," \xb0C")),n.a.createElement("div",{className:ee.a.forecastWrapper},E(u,!0),W.slice(1,5).map((function(e){return E(e)}))))},te=function(){var e=Object(r.useState)({}),a=Object(g.a)(e,2),t=a[0],l=a[1],c=Object(o.c)((function(e){return e.language||{}})).code,s=void 0===c?"en":c,u=Object(o.c)((function(e){return e.topic}));return Object(r.useEffect)((function(){(function(){var e=Object(x.a)(S.a.mark((function e(){var a,t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://gnews.io/api/v3".concat("top-news"!==u?"/topics":"","/").concat(u,"?lang=").concat(s,"&token=").concat(L.gnews_api_key),e.next=4,W(a);case 4:(t=e.sent)&&l(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,u]),n.a.createElement(Y,{storiesList:t.articles,SlotCardComponent:ae})},re=t(21),ne=t.n(re),le=["world","nation","business","technology","entertainment","sports","science","health"],ce=function(){var e=Object(r.useState)("top-news"),a=Object(g.a)(e,2),t=a[0],l=a[1],c=Object(o.b)(),s=function(e){l(e.target.value),c({type:"UPDATE_TOPIC",payload:e.target.value})},u=function(e){var a=e.replace("-"," ");return n.a.createElement("button",{className:"".concat(ne.a.topicBtn," ").concat(e===t?ne.a.active:""),onClick:s,key:e,value:e},a)};return n.a.createElement("div",{className:ne.a.topicsWrapper},u("top-news"),le.map((function(e){return u(e)})))},oe=function(){return Object(o.b)()(Z("home-page")),n.a.createElement(n.a.Fragment,null,n.a.createElement(ce,null),n.a.createElement(te,null))},se=function(){return n.a.createElement(_.a,null,n.a.createElement(T,null),n.a.createElement(f.c,null,n.a.createElement(f.a,{path:"/search",component:J}),n.a.createElement(f.a,{path:"/",component:oe})))},ue=(t(51),h());c.a.render(n.a.createElement(o.a,{store:ue},n.a.createElement(n.a.StrictMode,null,n.a.createElement(se,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.602e2240.chunk.js.map